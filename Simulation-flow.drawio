<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:137.0) Gecko/20100101 Firefox/137.0" version="26.0.16">
  <diagram name="Strona-1" id="-2TSdLy00n9XIhNWjO1P">
    <mxGraphModel dx="2336" dy="1978" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-56" value="s" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-80" y="-250" width="1760" height="1440" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-3" value="First batch of requests arrival" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="350" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-4" value="Server Threads&lt;br&gt;&lt;div&gt;Submit request for WebClient&lt;/div&gt;&lt;div&gt;Time: 0s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="160" y="170" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-7" value="&lt;div&gt;Client Threads&lt;/div&gt;&lt;div&gt;Get response from mock after 0s&lt;/div&gt;&lt;div&gt;Execute cpu bound operation for 10s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="170" width="540" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-8" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="320" as="sourcePoint" />
            <mxPoint x="1600" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-9" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" target="2GRehvNXeIB6Kh1DUvyV-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="340" as="sourcePoint" />
            <mxPoint x="160" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-11" value="&lt;div&gt;Second batch of request arrival 2s after first batch&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="350" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-13" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="459.76" y="320" as="sourcePoint" />
            <mxPoint x="460" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-14" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Default App Behaviour&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry y="-160" width="1600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-15" value="&lt;div&gt;Server Threads&lt;/div&gt;&lt;div&gt;Submit request for WebClient&lt;/div&gt;&lt;div&gt;&lt;div&gt;Time: 0s&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="460" y="240" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-16" value="&lt;div&gt;Client Threads&lt;/div&gt;&lt;div&gt;Get response from mock after 7s&lt;/div&gt;&lt;div&gt;Execute cpu bound operation for 10s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="940" y="240" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-18" target="2GRehvNXeIB6Kh1DUvyV-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-18" value="&lt;div&gt;All webClients threads are free.&lt;/div&gt;&lt;div&gt;Tasks are waiting 8s in a queue before being sent by WebClient &lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="720" y="15" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-19" target="2GRehvNXeIB6Kh1DUvyV-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-19" value="&lt;div&gt;All webClients threads are free.&lt;/div&gt;&lt;div&gt;Tasks are immediately sent by WebClient &lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="310" y="15" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-26" value="Response time for 1 request: 10s" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="180" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-27" value="Response time for 2 request: 25s " style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="250" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-28" value="Total: 27s" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="90" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-30" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="240" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-31" value="First batch of requests arrival" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1060" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-32" value="Server Threads&lt;br&gt;&lt;div&gt;Submit request for WebClient&lt;/div&gt;&lt;div&gt;Time: 0s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="160" y="890" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-33" value="&lt;div&gt;Client Threads&lt;/div&gt;&lt;div&gt;Get response from mock after 0s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="890" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-34" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" target="2GRehvNXeIB6Kh1DUvyV-32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="1060" as="sourcePoint" />
            <mxPoint x="160" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-35" value="&lt;div&gt;Second batch of request arrival 2s after first batch&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="1060" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-36" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="459.76" y="1040" as="sourcePoint" />
            <mxPoint x="460" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-37" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;App behaviour with publishOn after getting response from WebClient&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry y="560" width="1600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-38" value="&lt;div&gt;Server Threads&lt;/div&gt;&lt;div&gt;Submit request for WebClient&lt;/div&gt;&lt;div&gt;&lt;div&gt;Time: 0s&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="460" y="960" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-41" value="&lt;div&gt;All webClients threads are free.&lt;/div&gt;&lt;div&gt;Tasks are immediately sent by WebClient &lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="600" y="735" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-43" target="2GRehvNXeIB6Kh1DUvyV-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-43" value="&lt;div&gt;All webClients threads are free.&lt;/div&gt;&lt;div&gt;Tasks are immediately sent by WebClient &lt;br&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="310" y="735" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-44" value="Response time for 1 request: 10s" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="890" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-45" value="Response time for 2 request: 17s " style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="960" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-46" value="Total: 20s" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1370" y="800" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-48" value="&lt;div&gt;CustomScheduler Threads&lt;/div&gt;&lt;div&gt;Execute cpu bound operation for 10s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="670" y="890" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-50" value="&lt;div&gt;CustomScheduler Threads&lt;/div&gt;&lt;div&gt;Execute cpu bound operation for 10s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="970" y="960" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-51" value="&lt;div&gt;Client Threads&lt;/div&gt;&lt;div&gt;Get response from mock after 7s&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="700" y="960" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="700.0000000000005" y="960.0000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-52" target="2GRehvNXeIB6Kh1DUvyV-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-52" value="&lt;div&gt;All&amp;nbsp;CustomScheduler threads are BUSY.&lt;/div&gt;&lt;div&gt;Waiting 1s&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="860" y="735" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-54" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="1030" as="sourcePoint" />
            <mxPoint x="1600" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-62" value="Sometimes it tooks 30s, 37s, 47s when running an App with Netty as a Server. No idea why" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="1360" y="-30" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="2GRehvNXeIB6Kh1DUvyV-64" target="2GRehvNXeIB6Kh1DUvyV-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-64" value="No metric for this by default" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="1030" y="20" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="2GRehvNXeIB6Kh1DUvyV-66" value="NOTE: By default Server and Client threads are shared, when using Spring WebFlux + WebClient" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="160" y="-100" width="640" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
